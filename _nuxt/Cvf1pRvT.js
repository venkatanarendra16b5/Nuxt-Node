import{_ as V,r as c,l as B,c as n,a as e,m as D,F as _,n as R,t as m,d as N,k,p as F,g as E,o as u,q as T}from"./D0B5sGCU.js";const U={class:"rooms-page"},q={class:"floor-header"},L=["onClick"],P={class:"floor-actions"},j=["onClick"],z=["onClick"],G={class:"rooms-list"},H=["onClick"],J={key:0,class:"modal-overlay"},K={class:"modal"},O=["value"],Q=["value"],W={__name:"index",setup(X){const g=E(),p=c(!1),f=c(!1),r=c(0),v=c(""),b=c([]),s=c([{name:"1",expanded:!0,rooms:[{id:101,name:"Room 101"},{id:102,name:"Room 102"}]},{name:"2",expanded:!1,rooms:[{id:201,name:"Room 201"},{id:202,name:"Room 202"}]}]),w=o=>{s.value[o].expanded=!s.value[o].expanded},$=o=>{g.push(`/rooms/${o}`)},x=()=>{const o=s.value.length+1;s.value.push({name:`${o}`,expanded:!0,rooms:[]})},y=o=>{r.value=o,p.value=!0,f.value=!0,newName&&(s.value[o].name=newName)},A=o=>{confirm(`Are you sure you want to delete Floor ${s.value[o].name}?`)&&s.value.splice(o,1)};B(r,()=>{h()});const h=()=>{const o=s.value[r.value],l=o.name,t=o.rooms.map(i=>i.name),a=Number(l)*100+1,d=a+29;b.value=[];for(let i=a;i<=d;i++)t.includes(`Room ${i}`)||b.value.push(`Room ${i}`)},S=()=>{if(!v.value){alert("Please select a room number.");return}const o=`Room ${v.value}`;s.value[r.value].rooms.push({id:Date.now(),name:o}),C()},M=()=>{p.value=!0,r.value=0,v.value="",h()},C=()=>{p.value=!1};return(o,l)=>(u(),n("div",U,[e("div",{class:"header"},[l[2]||(l[2]=e("h1",null,"🛏️ Rooms Management",-1)),e("div",{class:"actions"},[e("button",{onClick:x},"➕ Add Floor"),e("button",{onClick:M},"➕ Add Room")])]),(u(!0),n(_,null,R(s.value,(t,a)=>(u(),n("div",{key:a,class:"floor"},[e("div",q,[e("div",{class:"floor-title",onClick:d=>w(a)},[e("h2",null,"Floor "+m(t.name),1),e("span",null,m(t.expanded?"▼":"▶"),1)],8,L),e("div",P,[e("button",{onClick:d=>y(a)},"✏️",8,j),e("button",{onClick:d=>A(a)},"🗑️",8,z)])]),k(e("div",G,[(u(!0),n(_,null,R(t.rooms,d=>(u(),n("button",{key:d.id,class:"room-button",onClick:i=>$(d.id)},m(d.name),9,H))),128))],512),[[T,t.expanded]])]))),128)),p.value?(u(),n("div",J,[e("div",K,[e("h3",null,m(f.value?"Edit floor":"Add New Room"),1),e("label",null,[l[3]||(l[3]=N(" Select Floor: ")),k(e("select",{"onUpdate:modelValue":l[0]||(l[0]=t=>r.value=t)},[(u(!0),n(_,null,R(s.value,(t,a)=>(u(),n("option",{key:a,value:a}," Floor "+m(t.name),9,O))),128))],512),[[F,r.value]])]),e("label",null,[l[5]||(l[5]=N(" Select Room Number: ")),k(e("select",{"onUpdate:modelValue":l[1]||(l[1]=t=>v.value=t)},[l[4]||(l[4]=e("option",{disabled:"",value:""},"Select Room",-1)),(u(!0),n(_,null,R(b.value,t=>(u(),n("option",{key:t,value:t},m(t),9,Q))),128))],512),[[F,v.value]])]),e("div",{class:"modal-actions"},[e("button",{onClick:S},"Save"),e("button",{class:"cancel",onClick:C},"Cancel")])])])):D("",!0)]))}},Z=V(W,[["__scopeId","data-v-3b6adc8d"]]);export{Z as default};
